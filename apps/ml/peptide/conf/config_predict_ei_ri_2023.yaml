
# the defaults list let you override settings using config files from subdirectories
# for models, specify the model name on the left hand side (which corresponds to a subdirectory)
# and the name on the right hand side specifies one of the config files in that subdirectory.
# This lets you have different sets of options for a model

# in the case of predict.py, the defaults will replace the configuration stored with the model

defaults:
  - input: 2023_ei_ri # input data set
  - setup: single_gpu  # experiment setup parameters that are not typical hyperparameters
  - paths: standard  # places to look for data and code
  - ms: ei_ri  # mass spec parameters
  - override hydra/job_logging: default
  - _self_

hydra:
  run:
    # working directory
    dir: hydra_output/${hydra.job.name}/${now:%Y-%m-%d_%H-%M-%S}
  output_subdir: hydra
  sweep:
    dir: hydra_sweep
  searchpath:
    - pkg://masskit_ai.conf
  job:
    chdir: True

input.train.where: null

# for ensembles, add a list to model_ensemble of paths to the checkpoints
model_ensemble:
  - ${oc.env:HOME}/data/nist/airi/models/patn_07f906f2ee414c47bd39d81f4b1b0e9a_val_loss=0.0028_epoch=080.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_2daf02200d3043fba7e7acd6b2bfdd74_val_loss=0.0029_epoch=083.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_97d60bdd6de540318f2fc14779dd61ec_val_loss=0.0029_epoch=102.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_a2c511021e6d47f09f51b43b6bf8e04a_val_loss=0.0029_epoch=089.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_c13df3ec55d44968b7098e8ea476ec16_val_loss=0.0029_epoch=088.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_cab768f4d82a467c9595d44d660b27b4_val_loss=0.0029_epoch=097.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_d2b9224a96194e85aa1e0781536405bb_val_loss=0.0030_epoch=088.ckpt
  - ${oc.env:HOME}/data/nist/airi/models/patn_ea9ba8350a4d461ca0714c2a098c78c5_val_loss=0.0029_epoch=089.ckpt
model_draws: 1  # number of draws per model
num: 0 # number of values to predict
dropout: False  # turn on dropout
predicted_column: predicted_ri
output_prefix: ${oc.env:HOME}/data/nist/airi/predict_ei_ri_2023  # name of the output file
output_suffixes:  # different file types to write out
  - pkl
  - csv
dataloader: MolPropDataset  # the class name of the dataloader to use.  searches in paths.modules.dataloaders
set_to_load: train  # data set to do predictions on
prediction_type: molprop
create_prediction_dataset: create_molprop_prediction_dataset
finalize_prediction_dataset: finalize_molprop_prediction_dataset
single_prediction: single_molprop_prediction

# Information
#
# this configuration file is parsed by the hydra library.  See https://hydra.cc/ for info
#
# Notes:
# - environment variables can be retrieved via ${oc.env:MY_ENV_VARIABLE} notation
# - null values are translated to None values in python
# - values within the specification can be accessed via ${my_top_level.my_config_value} notation
#
# - Some hydra terminology:
#   - config:  a configuration file.  there are input configs arranged in a directory structure and one output config
#   - config_group : A path to a set of configs.
#       The path is relative to the containing config. It can be made absolute by prefixing it with a /.
#        The path separator is / regardless of the operating system.
#   - package : Where to place the content of the config within the output config. It is relative to the package of
#     the containing config by default.
#   - dot.notation: location of a key in the config
#

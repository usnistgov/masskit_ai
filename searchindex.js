Search.setIndex({"docnames": ["README", "index", "ion_analysis", "notes", "recipes", "sources/masskit_ai", "sources/masskit_ai.apps", "sources/masskit_ai.apps.aims", "sources/masskit_ai.apps.aims.conf", "sources/masskit_ai.apps.ml", "sources/masskit_ai.apps.ml.peptide", "sources/masskit_ai.apps.ml.peptide.conf", "sources/masskit_ai.apps.ml.peptide.conf.hydra", "sources/masskit_ai.apps.ml.peptide.conf.hydra.help", "sources/masskit_ai.conf", "sources/masskit_ai.conf.input", "sources/masskit_ai.conf.logging", "sources/masskit_ai.conf.ml", "sources/masskit_ai.conf.ml.embedding", "sources/masskit_ai.conf.ml.model", "sources/masskit_ai.conf.ms", "sources/masskit_ai.conf.paths", "sources/masskit_ai.conf.setup", "sources/masskit_ai.mol", "sources/masskit_ai.mol.small", "sources/masskit_ai.mol.small.models", "sources/masskit_ai.spectrum", "sources/masskit_ai.spectrum.peptide", "sources/masskit_ai.spectrum.peptide.models", "sources/masskit_ai.spectrum.small_mol", "sources/masskit_ai.spectrum.small_mol.models", "sources/masskit_ai.test_fixtures", "sources/modules"], "filenames": ["README.md", "index.rst", "ion_analysis.ipynb", "notes.md", "recipes.md", "sources/masskit_ai.rst", "sources/masskit_ai.apps.rst", "sources/masskit_ai.apps.aims.rst", "sources/masskit_ai.apps.aims.conf.rst", "sources/masskit_ai.apps.ml.rst", "sources/masskit_ai.apps.ml.peptide.rst", "sources/masskit_ai.apps.ml.peptide.conf.rst", "sources/masskit_ai.apps.ml.peptide.conf.hydra.rst", "sources/masskit_ai.apps.ml.peptide.conf.hydra.help.rst", "sources/masskit_ai.conf.rst", "sources/masskit_ai.conf.input.rst", "sources/masskit_ai.conf.logging.rst", "sources/masskit_ai.conf.ml.rst", "sources/masskit_ai.conf.ml.embedding.rst", "sources/masskit_ai.conf.ml.model.rst", "sources/masskit_ai.conf.ms.rst", "sources/masskit_ai.conf.paths.rst", "sources/masskit_ai.conf.setup.rst", "sources/masskit_ai.mol.rst", "sources/masskit_ai.mol.small.rst", "sources/masskit_ai.mol.small.models.rst", "sources/masskit_ai.spectrum.rst", "sources/masskit_ai.spectrum.peptide.rst", "sources/masskit_ai.spectrum.peptide.models.rst", "sources/masskit_ai.spectrum.small_mol.rst", "sources/masskit_ai.spectrum.small_mol.models.rst", "sources/masskit_ai.test_fixtures.rst", "sources/modules.rst"], "titles": ["Masskit_ai use and architecture", "Welcome to masskit_ai\u2019s documentation!", "Read and analyze predicted spectra", "Notes on building documentation from python notebooks and python source files", "Recipes", "masskit_ai package", "masskit_ai.apps package", "masskit_ai.apps.aims package", "masskit_ai.apps.aims.conf package", "masskit_ai.apps.ml package", "masskit_ai.apps.ml.peptide package", "masskit_ai.apps.ml.peptide.conf package", "masskit_ai.apps.ml.peptide.conf.hydra package", "masskit_ai.apps.ml.peptide.conf.hydra.help package", "masskit_ai.conf package", "masskit_ai.conf.input package", "masskit_ai.conf.logging package", "masskit_ai.conf.ml package", "masskit_ai.conf.ml.embedding package", "masskit_ai.conf.ml.model package", "masskit_ai.conf.ms package", "masskit_ai.conf.paths package", "masskit_ai.conf.setup package", "masskit_ai.mol package", "masskit_ai.mol.small package", "masskit_ai.mol.small.models package", "masskit_ai.spectrum package", "masskit_ai.spectrum.peptide package", "masskit_ai.spectrum.peptide.models package", "masskit_ai.spectrum.small_mol package", "masskit_ai.spectrum.small_mol.models package", "masskit_ai.test_fixtures package", "masskit_ai"], "terms": {"cd": [0, 3], "app": [0, 4, 5, 32], "ml": [0, 4, 5, 6, 14, 23, 30], "git": [0, 3], "pull": 0, "origin": [0, 3, 4, 5, 25], "master": 0, "ani": [0, 5, 23, 25, 26, 27, 28, 29, 30], "chang": [0, 4], "librari": [0, 1], "manag": 0, "hydra": [0, 10, 11], "packag": [0, 32], "To": [0, 3, 4], "see": [0, 25, 30], "below": [0, 29], "execut": 0, "python": 0, "py": [0, 3], "you": [0, 3, 5, 25], "ar": [0, 2, 3, 4, 5, 23, 25, 26, 27, 29], "log": [0, 3, 5, 14, 25, 26], "examin": [0, 5], "first": [0, 3, 4, 30], "do": [0, 3, 23, 26, 29, 30], "hydra_output": 0, "mlflow": [0, 5], "ui": 0, "tensorboard": [0, 5], "logdir": 0, "tb_log": 0, "pleas": 0, "ignor": 0, "hp_metric": 0, "s": [0, 4, 5, 25], "dummi": 0, "overcom": 0, "bug": 0, "text": [0, 4], "artifact": [0, 5, 10], "displai": [0, 2], "linebreak": 0, "expect": [0, 29], "markdown": [0, 3], "when": [0, 3, 5, 23, 25, 26, 27, 29], "each": [0, 3, 4, 5, 23, 25, 26, 29], "given": [0, 5, 23, 25, 26, 27, 29], "id": [0, 5, 23, 26, 29], "On": 0, "server": 0, "all": [0, 4, 5, 25], "list": [0, 4, 5, 23, 25, 26, 27, 29], "under": 0, "experi": [0, 5, 10], "name": [0, 3, 4, 5, 25, 26, 29], "best": 0, "upload": 0, "an": [0, 1, 3, 5, 23, 25, 26, 29], "job": 0, "termin": 0, "normal": [0, 2, 4, 25, 26], "kill": 0, "also": 0, "copi": [0, 3, 5, 23, 26, 27, 29, 31], "current": [0, 5, 23, 26, 29], "save": [0, 5], "disk": 0, "subdirectori": 0, "best_model": 0, "directori": [0, 3, 5, 31], "after": [0, 25], "The": [0, 3, 4, 5, 25, 30, 31], "happen": 0, "everi": [0, 5, 25, 30], "epoch": [0, 5, 26], "so": [0, 5, 26], "thi": [0, 3, 4, 5, 23, 25, 26, 29, 31], "mechan": 0, "doesn": [0, 3, 5, 30], "t": [0, 2, 3, 5, 27, 30], "requir": [0, 23, 26, 29], "conda": 0, "activ": [0, 25], "wherev": 0, "have": [0, 25, 26, 30], "clone": 0, "msdc_servic": 0, "found": [0, 3, 4, 23, 26, 29], "conf": [0, 3, 4, 5, 6, 7, 9, 10, 32], "config_predict": [0, 4], "yaml": [0, 4], "put": [0, 3], "entri": [0, 25], "model_ensembl": [0, 4], "addit": [0, 25], "can": [0, 3, 4, 5, 23, 25, 26, 29], "thei": [0, 3], "take": [0, 4, 5, 23, 26, 27, 29], "same": [0, 2, 3, 30], "shape": [0, 25, 26], "number": [0, 4, 5, 23, 25, 26, 27, 29, 30], "draw": 0, "per": [0, 3, 5, 23, 26], "model_draw": 0, "dropout": [0, 5, 25], "true": [0, 2, 4, 5, 25, 26], "file": [0, 1, 5, 23, 26, 31], "prefix": [0, 4], "output_prefix": [0, 4], "extens": [0, 3], "form": [0, 25, 29], "my_model": 0, "ckpt": 0, "specifi": [0, 4, 5], "from": [0, 1, 2, 5, 23, 25, 26, 27, 29, 30, 31], "command": [0, 1], "line": [0, 4], "place": [0, 3], "work": [0, 3, 25], "e": [0, 3], "g": [0, 2, 3], "handl": [0, 5], "human": 0, "readabl": 0, "format": [0, 3, 4], "convert": [0, 2, 4, 5, 23, 25, 29], "dictionari": [0, 5, 26], "like": 0, "object": [0, 2, 5, 23, 25, 26], "organ": 0, "paramet": [0, 5, 10, 23, 25, 26, 27, 28, 29], "simplifi": 0, "group": [0, 30], "autom": 0, "allow": [0, 5], "hyperparamet": 0, "sweep": 0, "its": 0, "which": [0, 3, 4, 5, 23, 25, 26], "contain": [0, 3, 4, 5, 23, 25, 26, 29, 31], "logic": 0, "submodul": [0, 6, 9, 24, 32], "top": 0, "level": 0, "config": [0, 4, 5, 7, 10, 23, 25, 26, 27, 28, 29, 30], "It": [0, 5], "ha": [0, 2, 3, 4, 5, 23, 26, 29], "default": [0, 4, 5, 25, 27, 29], "section": 0, "includ": [0, 3, 4, 5, 26], "2021": [0, 5], "04": 0, "20_nist": 0, "data": [0, 2, 5, 23, 26, 27, 29, 31], "single_gpu": 0, "typic": [0, 4, 5, 25], "mlflow_serv": 0, "aiomicsmodel": [0, 28], "embed": [0, 5, 14, 17, 23, 25, 26, 27, 29], "peptide_basic_mod": 0, "ms": [0, 5, 14], "tandem": [0, 26, 29], "mass": [0, 26], "spec": 0, "kei": [0, 5, 25], "left": 0, "both": [0, 5], "valu": [0, 1, 5, 25, 26, 27], "right": [0, 25], "without": [0, 3], "These": 0, "NOT": [0, 23, 26, 29], "swap": 0, "out": [0, 3, 4, 25, 30], "portion": 0, "just": [0, 26], "differ": 0, "For": [0, 25], "exampl": [0, 1, 3], "spectra": [0, 4, 5, 23, 26, 27, 29], "ei": 0, "process": [0, 3, 4, 5, 23, 26, 29], "two": [0, 29], "01": [0, 2], "01_nist_ei": 0, "note": [0, 5, 30, 31], "discuss": 0, "abov": [0, 25], "filenam": [0, 3, 5], "class": [0, 3, 5, 23, 25, 26, 27, 28, 29, 30], "itself": 0, "give": [0, 5, 23, 26, 29], "abil": 0, "multipl": [0, 5, 23, 26], "overridden": 0, "bin_siz": 0, "1": [0, 3, 4, 5, 25, 26, 27, 29, 30], "max_epoch": 0, "100": [0, 2], "multirun": 0, "0": [0, 3, 4, 5, 25, 26, 27, 29], "automat": [0, 3, 5], "last": [0, 5], "k": [0, 25], "determin": [0, 25], "valid": [0, 5, 23, 26, 29], "where": [0, 25, 29], "save_top_k": 0, "filesystem": 0, "At": 0, "end": [0, 5, 25, 26], "veri": 0, "inform": [0, 4, 5], "restart": 0, "checkpoint_in": 0, "pytorch": [0, 5, 26, 29, 30], "lightn": [0, 26, 29, 32], "insist": 0, "sign": 0, "escap": 0, "backslash": 0, "front": 0, "transfer_learn": 0, "should": [0, 3, 4, 5, 23, 25, 26, 29], "fals": [0, 2, 5, 25, 26], "load": [0, 5], "replac": [0, 5], "layer": [0, 25, 28, 30], "turn": [0, 3, 5, 23, 26, 29], "bay": 0, "sampl": [0, 5, 25, 27], "batch": [0, 5, 23, 25, 26, 27, 29], "bayesian_network": 0, "sample_nbr": 0, "extern": 0, "torch": [0, 5, 23, 25, 26, 29, 30], "code": [0, 3, 25, 26], "assist": 0, "parallel": [0, 5], "experiment": [0, 26], "pyarrow": 0, "storag": 0, "structur": [0, 4, 29], "specif": [0, 25], "panda": [0, 2, 5, 23, 26], "memori": 0, "rdkit": [0, 23, 25], "small": [0, 5, 23, 29], "molecul": [0, 1, 23, 25, 29], "cheminformat": 0, "msdc": 0, "masskit": [0, 2, 3, 4, 31], "manipul": 0, "spectral": [0, 1, 26], "pytorch_lightn": 0, "trainer": [0, 5, 23, 25, 26, 27, 29], "overal": 0, "driver": 0, "spectrumlightningmodul": [0, 26], "spectrum": [0, 5, 23, 32], "spectrum_lightn": [0, 5, 32], "test": [0, 2, 4, 5, 26, 28, 29, 31], "loop": [0, 26, 29], "deriv": 0, "lightningmodul": [0, 26], "nn": [0, 5, 25, 30], "modul": [0, 1, 3, 32], "hparam": 0, "type": [0, 4, 5, 25, 26, 27], "dictconfig": [0, 7, 10, 25], "being": [0, 26], "spectrummodel": [0, 25, 26, 28, 30], "spectrum_base_object": [0, 5, 32], "namedtupl": 0, "loss_funct": 0, "function": [0, 3, 5, 23, 25, 26, 28, 30], "baseloss": [0, 5, 26, 29], "base_loss": [0, 32], "masskitdatamodul": [0, 5, 29], "lightningdatamodul": [0, 5], "tandemarrowdataset": [0, 26], "loader": [0, 5, 10, 23, 26, 29], "spectrum_dataset": [0, 5, 32], "basedataset": [0, 5, 23, 26], "util": [0, 2, 23, 26, 29], "dataload": [0, 5, 23, 26], "calcul": [0, 1, 5, 26, 27], "embedpeptid": [0, 27], "peptide_emb": [0, 5, 26], "store": 0, "datafram": [0, 2, 5, 23, 26, 27, 29], "arrowlibrarymap": 0, "index": [0, 1, 2, 3, 5, 23, 25, 26, 29], "base": [0, 5, 23, 25, 26, 27, 28, 29, 30], "integr": 0, "provid": 0, "accessor": 0, "defin": 0, "data_spec": 0, "spectral_librari": [0, 4], "peptidecb": [0, 27], "peptide_callback": [0, 5, 26], "callback": [0, 23, 26, 27, 29, 32], "msmlflowlogg": [0, 5], "mstensorboardlogg": [0, 5], "logger": [0, 32], "standard": [0, 4, 5, 23, 25, 26], "within": [0, 23, 26, 29], "spectrummodul": [0, 26, 28], "initi": [0, 3, 5, 23, 25, 26, 29, 30], "pass": [0, 5, 25, 28], "superclass": 0, "subclass": 0, "exist": [0, 25], "let": 0, "call": [0, 5, 23, 26, 29], "mymodel": 0, "dens": [0, 26, 27, 30], "simpl": [0, 28, 30], "hold": [0, 3, 5], "append": 0, "path": [0, 4, 5, 14, 25, 31], "self": [0, 5, 23, 25, 26, 29, 30], "along": [0, 25], "By": 0, "your": 0, "densespectrumnet": [0, 28], "node": [0, 23, 25, 26, 29], "add": [0, 2, 3, 23, 25, 26], "mymod": 0, "indent": 0, "underneath": [0, 3], "my_config": 0, "123": 0, "refer": [0, 23, 26, 29], "edit": 0, "start": [0, 3, 5, 23, 25, 26], "ve": 0, "tell": 0, "program": [0, 4], "look": [0, 25], "modelinput": [0, 5, 26, 29], "base_object": [0, 32], "3": [0, 2, 25, 30], "element": [0, 25], "x": [0, 5, 23, 25, 26, 28, 30], "tensor": [0, 5, 23, 25, 26, 27, 28, 29, 30], "channel": [0, 5, 23, 25, 26, 27, 30], "max_len": 0, "size": [0, 2, 5, 25, 26, 29, 30], "maximum": [0, 25, 27], "length": [0, 25, 27, 29], "y": [0, 2, 5, 26, 29, 30], "bin": [0, 26], "second": [0, 5], "dimens": [0, 26], "usual": 0, "one": [0, 3, 4, 5, 23, 25, 26, 27, 29], "intens": [0, 4, 26], "mz": [0, 4, 26, 27], "posit": [0, 2, 23, 25, 26], "correspond": [0, 4, 5, 23, 25, 26, 29], "2": [0, 2, 3, 5, 27, 29, 30], "graph": [0, 5, 25], "won": [0, 3], "instead": 0, "dict": [0, 5, 25, 29], "some": [0, 3, 4, 23, 26, 29], "export": [0, 25], "constant": [0, 5, 26], "modeloutput": [0, 5, 26, 29], "y_prime": [0, 5, 26, 29], "option": [0, 4, 5, 25, 26, 29], "deviat": [0, 4, 23, 26], "score": [0, 5, 27, 29], "dure": [0, 5, 25, 28], "forward": [0, 5, 25, 26, 28, 29, 30], "kl": [0, 5, 26], "diverg": [0, 5, 26], "construct": [0, 5, 23, 25, 26, 29], "here": [0, 3, 25], "avail": [0, 5, 23, 26, 29], "boolean": [0, 25], "insid": 0, "return": [0, 5, 23, 25, 26, 27, 28, 29], "sum": 0, "across": 0, "argument": [0, 5, 25, 30], "spectrumcosineklloss": [0, 26], "mseklloss": [0, 5], "own": 0, "version": [0, 4, 5, 25, 28], "mymodelinput": 0, "mydataset": 0, "anoth": [0, 5], "overrid": [0, 25, 26], "__get_item__": 0, "onli": [0, 5, 23, 25, 26, 29], "row": [0, 4, 5, 23, 26, 27, 29], "later": 0, "move": [0, 30], "gpu": [0, 5, 23, 26, 29], "flat": 0, "nest": 0, "item": [0, 5, 23, 26], "vectoriz": 0, "altern": [0, 23, 26, 29], "column": [0, 1, 23, 26], "mai": [0, 25], "schema": 0, "necessari": [0, 5], "mymodelouput": 0, "modifi": [0, 28], "numer": 0, "describ": [0, 25], "reason": 0, "access": [0, 23, 26, 29], "fed": 0, "extract_spectra": [0, 5, 26], "extract_vari": [0, 26], "extract": [0, 5, 25], "varianc": [0, 26], "basespectrumloss": [0, 26], "myloss": 0, "spectrum_loss": [0, 5, 32], "measur": 0, "perform": [0, 4], "although": 0, "baselossmetr": [0, 5], "wrap": [0, 25], "alreadi": [0, 23, 26, 29], "loss_class": 0, "scratch": 0, "basemetr": [0, 5], "__init__": [0, 23, 26, 29], "add_stat": 0, "need": [0, 25, 31], "them": 0, "up": [0, 3, 5, 23, 26, 29], "updat": [0, 3, 5, 25], "result": [0, 26, 29], "minibatch": [0, 23, 26, 29], "init": [0, 3, 28], "comput": [0, 4, 5, 25, 27, 29], "valid_metr": 0, "test_metr": 0, "weight": [0, 25, 30], "select": [0, 2, 5], "basesampl": [0, 5, 27], "probabl": [0, 5, 25, 27], "method": [0, 3, 5, 25, 27], "arrai": [0, 2, 5, 25, 26, 27, 29], "dataset": [0, 5, 23, 26, 29], "doe": [0, 5, 25], "databas": 0, "dataset_column": 0, "charg": [0, 26], "ev": [0, 2, 26], "mod_nam": 0, "sampler_typ": 0, "null": [0, 5], "lengthsampl": [0, 27], "max_length": 0, "longer": 0, "min_length": 0, "smaller": 0, "scale": [0, 26], "between": [0, 26, 29], "linearli": 0, "05": [0, 2, 25], "24_nist": 0, "record": [0, 5, 23, 26, 27], "log_id": 0, "log_ids_epoch_": 0, "txt": 0, "slow": 0, "down": [0, 25], "us": [1, 3, 5, 23, 25, 26, 27, 28, 29], "architectur": 1, "setup": [1, 5, 14], "train": [1, 5, 6, 9, 23, 25, 26, 27, 29], "peptid": [1, 5, 6, 9, 26], "predict": [1, 6, 9, 23, 26, 27, 32], "model": [1, 4, 5, 10, 14, 17, 23, 24, 26, 27, 29], "run": [1, 3, 5, 25, 26], "local": 1, "linux": 1, "machin": 1, "output": [1, 4, 5, 25, 26, 27, 28, 29, 30], "creat": [1, 3, 4, 5, 10, 23, 25, 26, 29], "configur": [1, 4, 5, 10, 26, 28], "checkpoint": 1, "transfer": [1, 28], "learn": [1, 28], "bayesian": 1, "network": [1, 4, 5, 23, 25, 26, 28, 29, 30], "loss": [1, 5, 26, 29], "new": [1, 3, 25], "input": [1, 4, 5, 14, 25, 26, 28, 29, 30], "softwar": 1, "custom": 1, "ad": [1, 3, 4, 5], "field": [1, 4, 5], "metric": [1, 26, 32], "sampler": [1, 27, 32], "miscellan": 1, "set": [1, 3, 5, 23, 25, 26, 29, 30], "recip": 1, "gener": [1, 3, 5, 25, 26, 27, 30, 31], "ri": 1, "airi": 1, "csv": 1, "my_csv": 1, "smile": 1, "sdf": 1, "molfil": 1, "my_sdf": 1, "search": [1, 29, 30], "page": [1, 3], "matplotlib": [2, 5], "inlin": 2, "import": [2, 3, 23, 26, 29], "pyplot": 2, "plt": 2, "pd": 2, "tablemap": 2, "msut": 2, "mssj": 2, "spectrum_gener": 2, "set_opt": 2, "max_column": 2, "none": [2, 5, 7, 23, 25, 26, 27, 29], "df": [2, 27], "read_pickl": 2, "flipflop183_uniq_220422": 2, "pkl": 2, "add_theoretical_spectra": 2, "theoretical_spectrum": 2, "make": [2, 25], "iter": [2, 25], "map": [2, 25], "over": [2, 3, 5, 25, 27], "exp_spectra": 2, "pandaslibrarymap": 2, "pred_spectra": 2, "column_nam": 2, "predicted_spectrum": [2, 27], "theo_spectra": 2, "j3": 2, "threewayjoin": 2, "do_join": 2, "df_join": 2, "to_panda": [2, 5, 23, 26], "4": [2, 30], "head": [2, 25], "exp_id": 2, "pred_id": 2, "theo_id": 2, "exp_peak_index": 2, "pred_peak_index": 2, "theo_peak_index": 2, "exp_mz": 2, "exp_intens": 2, "pred_mz": 2, "pred_intens": 2, "theo_mz": 2, "pred_stddev": 2, "z_score": 2, "cosine_scor": 2, "peptide_length": 2, "num_neg_aa": 2, "num_pos_aa": 2, "cterm_aa": 2, "ptm": 2, "ion_typ": [2, 27], "product_charg": 2, "isotop": 2, "ion_subtyp": 2, "end_posit": 2, "aa_befor": 2, "aa_aft": 2, "ptm_befor": 2, "ptm_after": 2, "lt": 2, "na": 2, "gt": 2, "116": 2, "5715": 2, "006924": 2, "45": 2, "585": 2, "724365": 2, "14": 2, "nan": 2, "6": 2, "30": 2, "120": 2, "0806": 2, "038769": 2, "076752": 2, "0808": 2, "025167": 2, "509269": 2, "ifa": 2, "121": 2, "3951": 2, "007055": 2, "127": 2, "626": 2, "008457": 2, "12": 2, "141": 2, "1022": 2, "034642": 2, "031227": 2, "006905": 2, "494631": 2, "95": 2, "163": 2, "262": 2, "717": 2, "3718": 2, "148742": 2, "047838": 2, "371934": 2, "014855": 2, "792667": 2, "7": 2, "A": [2, 25, 30], "i": 2, "96": 2, "782": 2, "7312": 2, "00643": 2, "97": 2, "172": 2, "278": 2, "812": 2, "424": 2, "022945": 2, "004205": 2, "426094": 2, "002039": 2, "9": 2, "191735": 2, "nh3": 2, "8": 2, "98": 2, "173": 2, "285": 2, "829": 2, "4534": 2, "313579": 2, "000969": 2, "452643": 2, "000818": 2, "382": 2, "262535": 2, "99": 2, "175": 2, "286": 2, "830": 2, "456": 2, "120345": 2, "000174": 2, "455998": 2, "000097": 2, "1241": 2, "207879": 2, "31": 2, "5": [2, 25], "21": 2, "467197": 2, "1323": 2, "20": [2, 25], "102": 2, "0554": 2, "043217": 2, "015513": 2, "055": 2, "008051": 2, "441178": 2, "32": [2, 26], "633": 2, "076599": 2, "iea": 2, "467198": 2, "22": 2, "104": 2, "0533": 2, "022147": 2, "004737": 2, "0534": 2, "00351": 2, "960566": 2, "ima": 2, "467199": 2, "0291": 2, "02663": 2, "467200": 2, "126": 2, "0556": 2, "034801": 2, "000351": 2, "000276": 2, "124": 2, "762839": 2, "467201": 2, "2552": 2, "026217": 2, "467292": 2, "34": 2, "212": 2, "003309": 2, "002391": 2, "467293": 2, "35": 2, "213": 2, "00077": 2, "00049": 2, "467294": 2, "36": 2, "215": 2, "000436": 2, "000406": 2, "467295": 2, "37": 2, "216": 2, "010032": 2, "008176": 2, "467296": 2, "39": 2, "227": 2, "002694": 2, "002119": 2, "32806": 2, "92": 2, "240": 2, "0976": 2, "05831": 2, "030693": 2, "018143": 2, "522204": 2, "40": 2, "375": 2, "432617": 2, "27": 2, "q": 2, "32807": 2, "241": 2, "0803": 2, "056933": 2, "033461": 2, "037932": 2, "618797": 2, "32808": 2, "41": 2, "131": 2, "257": 2, "1233": 2, "417809": 2, "422641": 2, "124432": 2, "335987": 2, "014384": 2, "h2o": 2, "32809": 2, "42": 2, "133": 2, "258": 2, "1075": 2, "293561": 2, "583013": 2, "108448": 2, "354833": 2, "81574": 2, "32810": 2, "261": 2, "9867": 2, "030825": 2, "32901": 2, "320": 2, "1313": 2, "6226": 2, "347608": 2, "029375": 2, "039879": 2, "980009": 2, "32902": 2, "321": 2, "540": 2, "1314": 2, "1073": 2, "418142": 2, "044482": 2, "108774": 2, "069938": 2, "342708": 2, "24": 2, "n": [2, 28, 29, 30], "32903": 2, "322": 2, "6064": 2, "156002": 2, "032953": 2, "067247": 2, "829811": 2, "32904": 2, "1365": 2, "6086": 2, "062174": 2, "32905": 2, "339": 2, "1373": 2, "6221": 2, "170367": 2, "042433": 2, "056629": 2, "259149": 2, "dtype": 2, "09583703113652287": 2, "158208049289118": 2, "10": 2, "60065305984468": 2, "11": 2, "4534606438435524": 2, "internalb": 2, "408632347078326": 2, "5820922264823345": 2, "fig": [2, 5], "ax": 2, "subplot": 2, "figsiz": 2, "16": 2, "2nd": 2, "experimental_spectrum": 2, "iloc": 2, "1000": 2, "plot_stddev": 2, "15": 2, "scatter": 2, "nce": [2, 5, 23, 26], "show": 2, "17": 2, "hist2d": 2, "18": 2, "19": 2, "get": [2, 5, 25, 31], "5th": 2, "10ppm": 2, "682": 2, "8751554541735": 2, "print": [2, 26], "product": [2, 25], "stddev": 2, "101": 2, "110": 2, "129": 2, "130": 2, "136": 2, "143": 2, "147": 2, "155": 2, "157": 2, "159": 2, "169": 2, "171": 2, "183": 2, "185": 2, "186": 2, "187": 2, "197": 2, "199": 2, "200": [2, 3], "201": 2, "211": 2, "226": 2, "228": 2, "229": 2, "230": 2, "243": 2, "244": 2, "260": 2, "270": 2, "272": 2, "275": 2, "279": 2, "282": 2, "288": 2, "296": 2, "298": 2, "299": 2, "308": 2, "313": 2, "323": 2, "324": 2, "326": 2, "331": 2, "341": 2, "342": 2, "354": 2, "355": 2, "358": 2, "359": 2, "371": 2, "372": 2, "384": 2, "389": 2, "390": 2, "395": 2, "412": 2, "413": 2, "431": 2, "432": 2, "437": 2, "438": 2, "446": 2, "447": 2, "459": 2, "469": 2, "472": 2, "486": 2, "487": 2, "504": 2, "505": 2, "560": 2, "570": 2, "587": 2, "588": 2, "598": 2, "600": 2, "605": 2, "606": 2, "643": 2, "644": 2, "651": 2, "652": 2, "660": 2, "671": 2, "688": 2, "689": 2, "706": 2, "707": 2, "746": 2, "802": 2, "817": 2, "857": 2, "874": 2, "875": 2, "876": 2, "892": 2, "893": 2, "928": 2, "930": 2, "945": 2, "946": 2, "947": 2, "963": 2, "964": 2, "1041": 2, "1058": 2, "1059": 2, "1060": 2, "1076": 2, "1077": 2, "1086": 2, "1199": 2, "1200": 2, "80569640e": 2, "00": 2, "13138043e": 2, "09895767e": 2, "50447761e": 2, "41836787e": 2, "29840373e": 2, "22303123e": 2, "36604700e": 2, "30689418e": 2, "29291285e": 2, "76000473e": 2, "58475517e": 2, "11269910e": 2, "35122952e": 2, "26483373e": 2, "29914913e": 2, "45464468e": 2, "00947230e": 2, "98784264e": 2, "38904502e": 2, "16158741e": 2, "95074464e": 2, "35150672e": 2, "04063981e": 2, "99000008e": 2, "02": 2, "86165689e": 2, "78077297e": 2, "47670396e": 2, "88578335e": 2, "36842939e": 2, "51051081e": 2, "99957247e": 2, "45702844e": 2, "22628794e": 2, "14570812e": 2, "97852322e": 2, "62213865e": 2, "03182783e": 2, "49004462e": 2, "17523992e": 2, "45175005e": 2, "16670541e": 2, "76266801e": 2, "53532223e": 2, "40013646e": 2, "03130640e": 2, "57390753e": 2, "18324942e": 2, "81957455e": 2, "83090816e": 2, "82409295e": 2, "87350396e": 2, "57933807e": 2, "04119183e": 2, "51603536e": 2, "16047698e": 2, "15399399e": 2, "45024676e": 2, "69610980e": 2, "94856536e": 2, "02260256e": 2, "97610387e": 2, "32052331e": 2, "36700666e": 2, "19294686e": 2, "89407499e": 2, "74351442e": 2, "35643568e": 2, "84524548e": 2, "54807329e": 2, "08488301e": 2, "09939306e": 2, "14603882e": 2, "98243994e": 2, "01052586e": 2, "15573543e": 2, "31819431e": 2, "71211633e": 2, "38256259e": 2, "94538287e": 2, "36491133e": 2, "05948867e": 2, "08230546e": 2, "14456461e": 2, "28250604e": 2, "06215906e": 2, "10074493e": 2, "07261724e": 2, "26251060e": 2, "70723246e": 2, "20904986e": 2, "93322101e": 2, "63151090e": 2, "13052975e": 2, "04580000e": 2, "95368669e": 2, "63342736e": 2, "71449087e": 2, "65483199e": 2, "76912533e": 2, "82616117e": 2, "94629640e": 2, "04221483e": 2, "05636196e": 2, "52552773e": 2, "42972771e": 2, "55964998e": 2, "18311324e": 2, "31387952e": 2, "55669605e": 2, "15028906e": 2, "90590017e": 2, "75982772e": 2, "27071450e": 2, "31167784e": 2, "06331024e": 2, "32618002e": 2, "05844357e": 2, "81248376e": 2, "58752086e": 2, "21358918e": 2, "26348790e": 2, "10278032e": 2, "43420612e": 2, "47310256e": 2, "45319238e": 2, "32285240e": 2, "29238395e": 2, "83643088e": 2, "16137490e": 2, "83011455e": 2, "56975944e": 2, "71045913e": 2, "38939536e": 2, "35562128e": 2, "36785106e": 2, "23299374e": 2, "77813713e": 2, "12706640e": 2, "40091182e": 2, "21576450e": 2, "16561742e": 2, "70641593e": 2, "97781202e": 2, "85640626e": 2, "07918903e": 2, "02805946e": 2, "96410282e": 2, "47404429e": 2, "43065865e": 2, "32157626e": 2, "83655186e": 2, "84613794e": 2, "16856836e": 2, "06818555e": 2, "92114188e": 2, "24017394e": 2, "69127975e": 2, "40853563e": 2, "34416391e": 2, "90989929e": 2, "04496858e": 2, "32795708e": 2, "39152687e": 2, "10725355e": 2, "35533683e": 2, "11968306e": 2, "60981514e": 2, "03027109e": 2, "36828990e": 2, "95801168e": 2, "14433327e": 2, "14635443e": 2, "35090937e": 2, "25212556e": 2, "26128701e": 2, "59022202e": 2, "47550849e": 2, "13989202e": 2, "20455757e": 2, "68147404e": 2, "30358537e": 2, "58643325e": 2, "21327908e": 2, "16701447e": 2, "48749518e": 2, "42145877e": 2, "65541944e": 2, "50145324e": 2, "16668328e": 2, "01459157e": 2, "31666981e": 2, "08755222e": 2, "49159710e": 2, "16400196e": 2, "37000875e": 2, "16388986e": 2, "44898685e": 2, "55830076e": 2, "47192262e": 2, "19068871e": 2, "08572893e": 2, "43857658e": 2, "81924631e": 2, "74273469e": 2, "11531750e": 2, "48669648e": 2, "40780127e": 2, "12000975e": 2, "03758768e": 2, "02173733e": 2, "09494406e": 2, "45309576e": 2, "64708845e": 2, "43925310e": 2, "77460640e": 2, "12897080e": 2, "53720958e": 2, "60247458e": 2, "27854213e": 2, "44695453e": 2, "89936714e": 2, "73524141e": 2, "29922758e": 2, "98945199e": 2, "40279651e": 2, "02702920e": 2, "42392488e": 2, "72042094e": 2, "83251163e": 2, "37129005e": 2, "84136287e": 2, "02874339e": 2, "91598624e": 2, "27352097e": 2, "80585889e": 2, "15465042e": 2, "42990019e": 2, "72736813e": 2, "57224745e": 2, "77330461e": 2, "60551792e": 2, "86412244e": 2, "18531277e": 2, "91990053e": 2, "37414970e": 2, "27319019e": 2, "47273941e": 2, "44143536e": 2, "06596290e": 2, "82352889e": 2, "07284438e": 2, "58350665e": 2, "91570028e": 2, "88022274e": 2, "93410713e": 2, "68986398e": 2, "56547675e": 2, "18961322e": 2, "11751449e": 2, "66311854e": 2, "54771241e": 2, "28277538e": 2, "12987937e": 2, "89332267e": 2, "25814708e": 2, "90606013e": 2, "15173752e": 2, "78556238e": 2, "70256820e": 2, "35841861e": 2, "23368407e": 2, "88633596e": 2, "52776215e": 2, "to_msp": 2, "23": 2, "singl": [2, 5, 23, 26], "doc": 3, "virtual": 3, "environ": [3, 23, 26, 29], "sphinx": 3, "myst": 3, "parser": 3, "nbsphinx": 3, "instal": [3, 31], "src": [3, 4], "masskit_ai": [3, 4], "tag": [3, 5], "releas": [3, 4], "v1": [3, 4], "label": 3, "want": [3, 25], "clean": 3, "previou": 3, "rm": 3, "r": 3, "rst": 3, "_build": 3, "apidoc": 3, "o": 3, "b": 3, "html": 3, "touch": 3, "nojekyl": 3, "ext": 3, "githubpag": 3, "suppos": 3, "alwai": [3, 25], "orphan": 3, "branch": 3, "time": [3, 23, 25, 26, 29], "mkdir": 3, "masskit_ai_nist": 3, "remot": 3, "github": [3, 4, 5, 30], "com": [3, 4, 5, 30], "usnistgov": [3, 4], "checkout": 3, "nist": [3, 4, 5], "commit": 3, "m": 3, "push": 3, "u": 3, "cp": 3, "rp": 3, "pars": [3, 23, 26, 29], "unless": 3, "restructuredtext": 3, "appear": 3, "our": 3, "bottom": 3, "jupyt": 3, "explicitli": [3, 23, 26, 29], "toctre": 3, "don": [3, 27], "more": [3, 4, 23, 25, 26, 27, 29], "than": [3, 23, 26, 27, 29], "header": 3, "cell": 3, "That": 3, "follow": [3, 4], "wide": 3, "autodoc": 3, "problem": [3, 5], "If": [3, 4, 25, 27], "mock": 3, "autodoc_mock_import": 3, "becaus": 3, "underscor": 3, "confus": 3, "jekyl": 3, "off": 3, "http": [3, 4, 5, 30], "respons": 3, "webhook": 3, "properli": 3, "success": 3, "202": 3, "step": [4, 5, 23, 26, 29], "parquet": [4, 23, 26], "ai": 4, "fasta2peptid": 4, "myfilenam": 4, "msp": 4, "individu": 4, "mgf": 4, "arrow": 4, "output_suffix": 4, "support": [4, 5, 25, 30], "min_intens": [4, 26], "minimum": [4, 26, 27], "max": [4, 25], "999": 4, "min_mz": [4, 27], "28": 4, "ion": [4, 27], "num": 4, "download": 4, "aiomics_model": 4, "tgz": 4, "upr": [4, 26, 27], "upresolut": 4, "fasta": 4, "uniprot": 4, "uniprot_peptid": 4, "batch_convert": 4, "onc": [4, 5, 23, 26, 29], "molecular": 4, "bond": [4, 25], "featur": [4, 25], "shortest_path": [4, 25], "final": [4, 23, 26], "either": [4, 25], "plu": [4, 5, 26], "descriptor": 4, "three": 4, "predicted_ri": 4, "predicted_ri_stddev": 4, "predicted_ri_stddev_clip": 4, "well": 4, "clip": 4, "lower": 4, "bound": 4, "distribut": [4, 5, 26], "convers": 4, "smiles_column_nam": 4, "my_csv_path": 4, "config_predict_ri": 4, "my_csv_predict": 4, "my_sdf_path": 4, "my_sdf_predict": 4, "latin": 4, "encod": [4, 5, 25, 26], "charact": 4, "pre": 4, "v2000": 4, "rewrite_sdf": 4, "correct": 4, "my_orginal_sdf": 4, "aim": [5, 6, 30], "build_index": [5, 6], "compare_search_result": [5, 6], "create_feature_vector": [5, 6], "mol": [5, 32], "mol_dataset": [5, 32], "mol_emb": [5, 32], "mol_predict": [5, 32], "peptide_const": [5, 26], "peptide_predict": [5, 26], "peptide_sampl": [5, 26], "small_mol": [5, 26], "small_mol_dataset": [5, 26], "small_mol_lightn": [5, 26], "small_mol_loss": [5, 26], "spectrum_emb": [5, 32], "spectrum_predict": [5, 32], "test_fixtur": [5, 32], "arg": [5, 23, 25, 26, 27, 28, 29, 30], "kwarg": [5, 23, 25, 26, 27, 28, 29, 30], "abc": [5, 26], "abstract": [5, 26], "entir": 5, "properti": [5, 23, 26, 29], "get_data_row": [5, 23, 26, 29], "get_x": [5, 29], "data_row": [5, 23, 26, 29], "get_i": [5, 23, 26, 29], "target": [5, 23, 25, 26], "init_copi": 5, "worker_id": 5, "num_work": [5, 23, 26, 29], "main": [5, 10, 23, 26, 29], "thread": 5, "fork": [5, 23, 26, 29], "funcion": 5, "worker_init_fn": [5, 23, 26, 29], "worker": [5, 23, 26, 29], "total": 5, "rais": [5, 23, 26], "notimplementederror": [5, 23, 26], "implement": [5, 23, 25, 26, 30], "dataframedataset": [5, 26], "param": [5, 26, 29], "l1loss": 5, "l1": 5, "mean": [5, 23, 26, 27, 29], "squar": [5, 26], "error": [5, 26], "mseloss": 5, "get_namedtuple_dict": 5, "tupl": [5, 25, 26], "alia": 5, "var": 5, "concatenateidlog": 5, "concaten": [5, 23], "on_train_epoch_end": [5, 26], "pl_modul": [5, 27], "modelcheckpointonstart": 5, "modelcheckpoint": 5, "befor": [5, 25], "begin": 5, "on_train_start": 5, "basicemb": 5, "request": [5, 23], "hot": [5, 23, 25, 26, 27], "static": [5, 23, 26, 27], "list2one_hot": 5, "list_in": 5, "num_class": 5, "integ": 5, "member": 5, "_emb": 5, "_channel": 5, "embedxor": 5, "toi": 5, "xor": 5, "xor_channel": 5, "nce_float": [5, 26], "xor_emb": 5, "float": [5, 25, 26, 27, 29], "floattensor": [5, 26], "basedatamodul": 5, "create_load": 5, "set_to_load": [5, 29], "stage": 5, "fit": 5, "test_dataload": 5, "train_dataload": 5, "val_dataload": 5, "helper": [5, 25], "get_subset": [5, 29], "spectrumdatamodul": 5, "xordatamodul": 5, "get_pytorch_rank": 5, "rank": 5, "world_rank": 5, "world_siz": [5, 23, 26, 29], "num_gpu": 5, "num_nod": [5, 23, 26, 29], "node_rank": [5, 23, 26, 29], "local_rank": [5, 23, 26, 29], "log_worker_start": 5, "sinc": [5, 23, 26, 29], "we": [5, 25], "shard": [5, 23, 26, 29], "ourselv": 5, "disabl": 5, "replace_sampler_ddp": 5, "seed_work": 5, "random": 5, "seed": 5, "In": 5, "futur": 5, "pl_worker_init_funct": 5, "setup_datamodul": 5, "datamodul": 5, "collate_fn": 5, "factori": [5, 23], "mlflowlogg": 5, "close": 5, "directri": 5, "log_figur": 5, "figure_tag": 5, "global_step": 5, "figur": 5, "imag": 5, "log_image_fil": 5, "anim": 5, "gif": 5, "what": 5, "log_params_from_omegaconf_dict": 5, "recurs": 5, "omegaconf": [5, 7, 10, 25], "log_params_to_mlflow": 5, "mlf_log_str": 5, "string_in": 5, "string": 5, "write": [5, 23, 26], "mlf_set_tag": 5, "config_valu": 5, "process_valu": 5, "particular": [5, 25, 27], "mlf_setup_tag": 5, "tensorboardlogg": 5, "jit": 5, "trace": [5, 25], "filter_pytorch_lightning_warn": 5, "torchmetr": 5, "twice": 5, "aggreg": 5, "accumul": [5, 23, 26], "stash": 5, "restor": 5, "done": [5, 23, 26, 29], "compute_on_step": 5, "behavior": 5, "becom": 5, "pytorchlightn": 5, "issu": [5, 30], "344": 5, "09": 5, "07": 5, "klmetric": 5, "l1metric": 5, "msemetr": 5, "spectrumcosinemetr": 5, "spectrummsemetr": 5, "spectrumnormalnllmetr": 5, "predictor": [5, 23, 26], "add_item": [5, 23, 26], "item_idx": [5, 23, 26], "apply_dropout": 5, "appli": [5, 25], "eval": 5, "mode": 5, "create_dataload": [5, 23, 26], "create_item": [5, 23, 26], "dataloader_idx": [5, 23, 26, 27], "finalize_item": [5, 23, 26], "load_model": 5, "model_nam": 5, "prep_model_for_predict": 5, "prepar": [5, 25], "infer": [5, 25], "single_predict": [5, 23, 26], "write_item": [5, 23, 26], "numpi": [5, 25, 27, 29], "datasetfromsampl": 5, "distributedsamplerwrapp": 5, "distributedsampl": 5, "wrapper": 5, "especi": 5, "conjunct": 5, "distributeddataparallel": 5, "case": [5, 25, 29], "instanc": [5, 23, 25, 26, 29], "subset": 5, "subsampl": 5, "exclus": 5, "assum": [5, 26, 29], "devicemod": 5, "torchfunctionmod": 5, "set_torch_config": 5, "torch_devic": 5, "create_peptide_librari": [6, 9], "experimental_divid": [6, 9], "experimental_join": [6, 9], "predict_hitlist": [6, 9], "aims_app": 7, "build_index_app": 7, "compare_search_results_app": 7, "create_feature_vector_app": 7, "predict_app": 10, "create_experiment_nam": 10, "uniqu": 10, "identifi": 10, "setup_logg": 10, "help": [11, 12], "algo": [23, 24], "gf": [23, 24], "model_util": [23, 24], "mol_featur": [23, 24], "mol_graph": [23, 24], "path_util": [23, 24], "patn": [23, 24], "molpropdataset": 23, "how": [23, 25, 26, 29], "explan": [23, 26, 29], "variabl": [23, 26, 29], "pl_trainer_gpu": [23, 26, 29], "ddp": [23, 26, 29], "otherwis": [23, 26, 29], "get_worker_info": [23, 26, 29], "constructor": [23, 26, 29], "global": [23, 26, 29], "other": [23, 26, 29], "info": [23, 26, 29], "feed": [23, 25, 26, 29], "must": [23, 25, 26, 29], "sourc": [23, 25, 26, 29], "global_rank": [23, 26, 29], "nudatasetm_process": [23, 26, 29], "process_idx": [23, 26, 29], "num_process": [23, 26, 29], "get_column": [23, 26], "retriev": [23, 26], "graphormer_col": 23, "collat": 23, "graphorm": [23, 25], "pad_1d_unsqueez": 23, "padlen": 23, "pad_2d_unsqueez": 23, "pad_3d_unsqueez": 23, "padlen1": 23, "padlen2": 23, "padlen3": 23, "pad_attn_bias_unsqueez": 23, "pad_edge_type_unsqueez": 23, "pad_spatial_pos_unsqueez": 23, "patn_col": 23, "embedgraphormermol": 23, "emb": [23, 26, 27, 32], "mol_channel": 23, "embedpatnmol": 23, "proppredictor": [23, 25], "mol_path_emb": 23, "convert_to_single_emb": 23, "offset": 23, "int": [23, 25], "512": 23, "from_mol": 23, "torch_geometr": 23, "preprocess_item": 23, "molproppredictor": 23, "averag": [23, 25, 26], "newli": [23, 26], "idx": [23, 25, 26], "back": [23, 25, 26], "basefairseqmodel": 25, "fairseq": 25, "classmethod": 25, "build_model": 25, "task": 25, "build": 25, "extract_featur": 25, "similar": [25, 26], "get_normalized_prob": 25, "net_output": 25, "str": 25, "log_prob": 25, "bool": 25, "prob": 25, "net": 25, "get_normalized_probs_script": 25, "scriptabl": 25, "get_target": 25, "hub_model": 25, "make_generation_fast_": 25, "legaci": 25, "point": 25, "optim": 25, "faster": 25, "max_posit": 25, "prepare_for_inference_": 25, "cfg": 25, "prepare_for_onnx_export_": 25, "via": 25, "onnx": 25, "set_num_upd": 25, "num_upd": 25, "state": 25, "fairseqdropout": 25, "inplac": 25, "retain_dropout": 25, "retain_dropout_modul": 25, "fairseqencod": 25, "src_token": 25, "src_length": 25, "longtensor": 25, "token": 25, "languag": 25, "src_len": 25, "sentenc": 25, "forward_non_torchscript": 25, "net_input": 25, "forward_torchscript": 25, "torchscript": 25, "compat": 25, "reorder_encoder_out": 25, "encoder_out": 25, "new_ord": 25, "reorder": 25, "accord": 25, "desir": 25, "order": 25, "rearrang": 25, "upgrade_state_dict_nam": 25, "state_dict": 25, "upgrad": 25, "old": 25, "newer": 25, "fairseqencodermodel": 25, "through": 25, "graphattnbia": 25, "attent": 25, "bia": [25, 30], "batched_data": 25, "graphnodefeatur": 25, "graphormerencod": 25, "perturb": 25, "masked_token": 25, "unus": 25, "max_nod": 25, "reset_output_layer_paramet": 25, "graphormergraphencod": 25, "build_graphormer_graph_encoder_lay": 25, "embedding_dim": 25, "ffn_embedding_dim": 25, "num_attention_head": 25, "attention_dropout": 25, "activation_dropout": 25, "activation_fn": 25, "q_nois": 25, "qn_block_siz": 25, "pre_layernorm": 25, "last_state_onli": 25, "token_embed": 25, "attn_mask": 25, "graphormergraphencoderlay": 25, "build_fc1": 25, "input_dim": 25, "output_dim": 25, "build_fc2": 25, "build_self_attent": 25, "embed_dim": 25, "self_attent": 25, "self_attn_bia": 25, "self_attn_mask": 25, "self_attn_padding_mask": 25, "layernorm": 25, "ffn": [25, 28], "transform": 25, "graphormermodel": 25, "graphormer_slim": 25, "inp": [25, 28], "total_param": [25, 28], "layerdropmodulelist": 25, "modulelist": 25, "layerdrop": 25, "refresh": 25, "choic": 25, "drop": 25, "evalu": 25, "usag": 25, "layerdroplist": 25, "p": [25, 28], "layer1": 25, "layer2": 25, "layer3": 25, "might": 25, "normalized_shap": 25, "ep": 25, "1e": 25, "elementwise_affin": 25, "multiheadattent": 25, "multi": 25, "Is": 25, "detail": 25, "apply_sparse_mask": 25, "attn_weight": 25, "tgt_len": 25, "bsz": 25, "queri": [25, 29], "attn_bia": 25, "key_padding_mask": 25, "need_weight": 25, "before_softmax": 25, "need_head_weight": 25, "bytetensor": 25, "mask": 25, "exclud": 25, "pad": [25, 30], "indic": 25, "1s": 25, "causal": 25, "prevent": 25, "raw": 25, "softmax": 25, "impli": 25, "reset_paramet": 25, "base_architectur": 25, "check_typ": 25, "expected_typ": 25, "gelu": 25, "gelu_accur": 25, "get_activation_fn": 25, "callabl": 25, "graphormer_slim_architectur": 25, "init_graphormer_param": 25, "init_param": 25, "n_layer": 25, "quant_nois": 25, "block_siz": 25, "quantiz": 25, "nois": 25, "subsequ": 25, "extrem": 25, "compress": 25, "amount": 25, "block": [25, 28, 30], "ipq": 25, "remark": 25, "wrt": 25, "linear": 25, "conv2d": 25, "moment": 25, "convolut": [25, 28], "And": 25, "bit": 25, "goe": 25, "revisit": 25, "neural": 25, "simplest": 25, "paper": 25, "consist": 25, "randomli": 25, "relu_squar": 25, "safe_hasattr": 25, "obj": 25, "dim": [25, 30], "onnx_trac": 25, "compute_max_atom": 25, "scope": 25, "atom": 25, "convert_to_2d": 25, "2d": 25, "matrix": 25, "convert_to_3d": 25, "max_atom": 25, "self_attn": 25, "3d": 25, "purpos": 25, "batch_siz": 25, "bt_index_to_float": 25, "bt_index": 25, "get_atom_featur": 25, "get_bond_featur": 25, "bt_onli": 25, "non": 25, "get_bt_featur": 25, "bond_typ": 25, "vector": [25, 26, 29], "repres": [25, 30], "get_bt_index": 25, "rdchem": 25, "get_path_bond_featur": 25, "onek_unk_encod": 25, "rd_atom": 25, "is_dummi": 25, "add_bond": 25, "out_atom_idx": 25, "in_atom_idx": 25, "rd_bond": 25, "molgraph": 25, "rd_mol": 25, "path_input": 25, "path_mask": 25, "get_atom_input": 25, "output_tensor": 25, "get_graph_input": 25, "conv": [25, 30], "gcn": 25, "get_n_atom": 25, "get_bond": 25, "atom_1": 25, "atom_2": 25, "get_num_path_featur": 25, "get_path_atom": 25, "paths_dict": 25, "pointer_dict": 25, "max_path_length": 25, "truncat": 25, "pair": [25, 29], "whether": 25, "get_path_featur": 25, "path_atom": 25, "path_length": 25, "p_emb": 25, "empti": [25, 26], "consid": 25, "get_path_input": 25, "get_ring_featur": 25, "ring_dict": 25, "atom_pair": 25, "merge_path_input": 25, "merg": 25, "matric": 25, "cuda": 25, "intention": 25, "ordered_pair": 25, "a1": 25, "a2": 25, "moltransform": 25, "avg_attn": 25, "attn_prob": 25, "n_head": 25, "batch_sz": 25, "compute_attn_prob": 25, "attn_input": 25, "layer_idx": 25, "get_attn_input": 25, "atom_h": 25, "aggregate_atom_h": 25, "output_attn": 25, "aiomicsrnn": [26, 27], "aiomic": [26, 27], "flipyflopi": [26, 27], "small_mol_model": [26, 29], "mz_bin": 26, "convent": 26, "necessarili": 26, "spectrumdataset": [26, 29], "tandemdataframedataset": 26, "embed1d": [26, 27], "1d": [26, 27], "charge_channel": 26, "rare": 26, "charge_emb": 26, "charge_singleton_channel": 26, "charge_float": 26, "charge_singleton_emb": 26, "rang": [26, 27], "ev_channel": 26, "ev_emb": 26, "ev_singleton_channel": 26, "ev_float": 26, "ev_singleton_emb": 26, "nce_channel": 26, "nce_emb": 26, "nce_singleton_channel": 26, "nce_singleton_emb": 26, "basespectrumlightningmodul": [26, 29], "calc_loss": 26, "configure_optim": 26, "on_test_epoch_end": 26, "on_validation_epoch_end": 26, "test_step": 26, "batch_idx": [26, 27, 29], "training_step": [26, 29], "training_step_end": 26, "validation_step": 26, "validation_test_epoch_end": 26, "share": [26, 29], "reset": 26, "val": 26, "validation_test_step": [26, 29], "mz_arrai": 26, "input_tensor": 26, "cosin": [26, 27, 29], "spectrumcosineloss": 26, "spectrumlogcosineklloss": 26, "spectrummseklloss": 26, "spectrummseloss": 26, "spectrumnormalnl": 26, "neg": 26, "likelihood": 26, "emit": 26, "omit": 26, "peptidespectrumpredictor": 26, "create_mz_toler": 26, "toler": 26, "make_spectrum": 26, "precursor_mz": 26, "singlepeptidespectrumpredictor": 26, "finalize_spectrum": 26, "mz_window": 26, "separ": 26, "multiprocess": 26, "peak": [26, 27], "filter": [26, 27, 30], "window": 26, "on_validation_batch_end": 27, "get_mod_list": 27, "mod": 27, "mods_channel": 27, "modif": [27, 28], "mods_emb": 27, "mods_singleton_channel": 27, "mods_singleton": 27, "mods_singleton_emb": 27, "peptide_channel": 27, "sequenc": [27, 30], "peptide_singleton_channel": 27, "singleton": 27, "peptide_singleton_emb": 27, "amino": 27, "acid": 27, "upres_peptide_spectra": 27, "max_mz": 27, "match": [27, 29], "theoret": 27, "upres_peptide_spectrum": 27, "borrow": 27, "alphafold": 27, "lengthsampler2": 27, "lengthsampler3": 27, "aiomicsmodelunc": 28, "compoundconv": 28, "compound": 28, "pfcompoundconv": 28, "predful": 28, "resblock": 28, "residu": [28, 30], "sqex": 28, "pfblock": 28, "test_modifi": 28, "xormodel": 28, "talkinghead": 28, "transblock": 28, "tandemarrowsearchdataset": 29, "data_search": 29, "db": 29, "hit": 29, "somewher": 29, "threshold": 29, "taninoto": 29, "hitlist": 29, "tanimoto": 29, "pairwis": 29, "mz_max": 29, "row2id": 29, "row2id_search": 29, "spectrum2arrai": 29, "searchlightningmodul": 29, "pairwise_search_model": 29, "accomplish": 29, "reshap": 29, "fingerprint": [29, 30], "smallmolsearchdatamodul": 29, "searchloss": 29, "invalid": 29, "ident": 29, "hitlistrow": 29, "aimsnet": 30, "hybrid": 30, "basicblock": 30, "resnet": 30, "basic": 30, "conv1dsamepad": 30, "conv1d": 30, "tensorflow": 30, "3867": 30, "anyth": 30, "now": 30, "convblock": 30, "locallinear": 30, "myconv1dpadsam": 30, "extend": 30, "mymaxpool1dpadsam": 30, "maxpool1d": 30, "resnetbaselin": 30, "baselin": 30, "arxiv": 30, "org": 30, "ab": 30, "1909": 30, "04939": 30, "attribut": 30, "sequence_length": 30, "mid_channel": 30, "fp_size": 30, "resnetbaseline_new": 30, "n_sampl": 30, "n_channel": 30, "n_length": 30, "pararmet": 30, "in_channel": 30, "base_filt": 30, "sever": 30, "doubl": 30, "kernel_s": 30, "width": 30, "kernel": 30, "stride": 30, "larget": 30, "resnext": 30, "n_block": 30, "n_class": 30, "resnetblock": 30, "simplenet": 30, "conv1d_same_pad": 30, "dilat": 30, "srm1950_lumos_short_parquet_ai": 31, "data_dir": 31, "tmpdir_factori": 31, "config_predict_airi_csv": 31, "predicted_airi_csv": 31, "config_predict_airi_smil": 31, "predicted_airi_smil": 31, "config_predict_peptid": 31, "predicted_human_uniprot_trunc_parquet": 31, "human_uniprot_trunc_parquet": 31, "try": 31, "straightforward": 31, "wai": 31, "find": 31, "workaround": 31, "datafil": 31, "human_uniprot_trunc_fasta": 31, "test_new_sdf_parquet": 31, "subpackag": 32, "content": 32, "base_dataset": 32}, "objects": {"": [[5, 0, 0, "-", "masskit_ai"]], "masskit_ai": [[5, 1, 1, "", "DeviceMode"], [6, 0, 0, "-", "apps"], [5, 0, 0, "-", "base_datasets"], [5, 0, 0, "-", "base_losses"], [5, 0, 0, "-", "base_objects"], [5, 0, 0, "-", "callbacks"], [14, 0, 0, "-", "conf"], [5, 0, 0, "-", "embed"], [5, 0, 0, "-", "lightning"], [5, 0, 0, "-", "loggers"], [5, 0, 0, "-", "metrics"], [23, 0, 0, "-", "mol"], [5, 0, 0, "-", "prediction"], [5, 0, 0, "-", "samplers"], [5, 2, 1, "", "set_torch_config"], [26, 0, 0, "-", "spectrum"], [31, 0, 0, "-", "test_fixtures"]], "masskit_ai.apps": [[7, 0, 0, "-", "aims"], [9, 0, 0, "-", "ml"]], "masskit_ai.apps.aims": [[7, 0, 0, "-", "aims"], [7, 0, 0, "-", "build_index"], [7, 0, 0, "-", "compare_search_results"], [8, 0, 0, "-", "conf"], [7, 0, 0, "-", "create_feature_vector"]], "masskit_ai.apps.aims.aims": [[7, 2, 1, "", "aims_app"]], "masskit_ai.apps.aims.build_index": [[7, 2, 1, "", "build_index_app"]], "masskit_ai.apps.aims.compare_search_results": [[7, 2, 1, "", "compare_search_results_app"]], "masskit_ai.apps.aims.create_feature_vector": [[7, 2, 1, "", "create_feature_vector_app"]], "masskit_ai.apps.ml": [[10, 0, 0, "-", "peptide"]], "masskit_ai.apps.ml.peptide": [[11, 0, 0, "-", "conf"], [10, 0, 0, "-", "create_peptide_library"], [10, 0, 0, "-", "experimental_join"], [10, 0, 0, "-", "predict"], [10, 0, 0, "-", "train"]], "masskit_ai.apps.ml.peptide.conf": [[12, 0, 0, "-", "hydra"]], "masskit_ai.apps.ml.peptide.conf.hydra": [[13, 0, 0, "-", "help"]], "masskit_ai.apps.ml.peptide.create_peptide_library": [[10, 2, 1, "", "main"]], "masskit_ai.apps.ml.peptide.predict": [[10, 2, 1, "", "predict_app"]], "masskit_ai.apps.ml.peptide.train": [[10, 2, 1, "", "create_experiment_name"], [10, 2, 1, "", "main"], [10, 2, 1, "", "setup_loggers"]], "masskit_ai.base_datasets": [[5, 1, 1, "", "BaseDataset"], [5, 1, 1, "", "DataframeDataset"]], "masskit_ai.base_datasets.BaseDataset": [[5, 3, 1, "", "data"], [5, 4, 1, "", "get_data_row"], [5, 4, 1, "", "get_x"], [5, 4, 1, "", "get_y"], [5, 4, 1, "", "init_copy"], [5, 4, 1, "", "to_pandas"]], "masskit_ai.base_datasets.DataframeDataset": [[5, 4, 1, "", "get_data_row"], [5, 4, 1, "", "get_y"], [5, 4, 1, "", "to_pandas"]], "masskit_ai.base_losses": [[5, 1, 1, "", "BaseLoss"], [5, 1, 1, "", "L1Loss"], [5, 1, 1, "", "MSEKLLoss"], [5, 1, 1, "", "MSELoss"], [5, 2, 1, "", "get_namedtuple_dict"]], "masskit_ai.base_losses.BaseLoss": [[5, 4, 1, "", "forward"]], "masskit_ai.base_losses.L1Loss": [[5, 4, 1, "", "forward"]], "masskit_ai.base_losses.MSEKLLoss": [[5, 4, 1, "", "forward"]], "masskit_ai.base_losses.MSELoss": [[5, 4, 1, "", "forward"]], "masskit_ai.base_objects": [[5, 1, 1, "", "ModelInput"], [5, 1, 1, "", "ModelOutput"]], "masskit_ai.base_objects.ModelInput": [[5, 5, 1, "", "index"], [5, 5, 1, "", "x"], [5, 5, 1, "", "y"]], "masskit_ai.base_objects.ModelOutput": [[5, 5, 1, "", "score"], [5, 5, 1, "", "var"], [5, 5, 1, "", "y_prime"]], "masskit_ai.callbacks": [[5, 1, 1, "", "ConcatenateIdLogs"], [5, 1, 1, "", "ModelCheckpointOnStart"]], "masskit_ai.callbacks.ConcatenateIdLogs": [[5, 4, 1, "", "on_train_epoch_end"]], "masskit_ai.callbacks.ModelCheckpointOnStart": [[5, 4, 1, "", "on_train_start"]], "masskit_ai.conf": [[15, 0, 0, "-", "input"], [16, 0, 0, "-", "logging"], [17, 0, 0, "-", "ml"], [20, 0, 0, "-", "ms"], [21, 0, 0, "-", "paths"], [22, 0, 0, "-", "setup"]], "masskit_ai.conf.ml": [[18, 0, 0, "-", "embedding"], [19, 0, 0, "-", "model"]], "masskit_ai.embed": [[5, 1, 1, "", "BasicEmbed"], [5, 1, 1, "", "Embed"], [5, 1, 1, "", "EmbedXor"]], "masskit_ai.embed.BasicEmbed": [[5, 3, 1, "", "channels"], [5, 4, 1, "", "embed"], [5, 4, 1, "", "list2one_hot"]], "masskit_ai.embed.Embed": [[5, 3, 1, "", "channels"], [5, 4, 1, "", "embed"]], "masskit_ai.embed.EmbedXor": [[5, 4, 1, "", "xor_channels"], [5, 4, 1, "", "xor_embed"]], "masskit_ai.lightning": [[5, 1, 1, "", "BaseDataModule"], [5, 1, 1, "", "MasskitDataModule"], [5, 1, 1, "", "SpectrumDataModule"], [5, 1, 1, "", "XORDataModule"], [5, 2, 1, "", "get_pytorch_ranks"], [5, 2, 1, "", "log_worker_start"], [5, 2, 1, "", "seed_worker"], [5, 2, 1, "", "setup_datamodule"]], "masskit_ai.lightning.BaseDataModule": [[5, 4, 1, "", "create_loader"], [5, 4, 1, "", "setup"], [5, 4, 1, "", "test_dataloader"], [5, 4, 1, "", "train_dataloader"], [5, 4, 1, "", "val_dataloader"]], "masskit_ai.lightning.MasskitDataModule": [[5, 4, 1, "", "create_loader"], [5, 4, 1, "", "get_subsets"]], "masskit_ai.lightning.XORDataModule": [[5, 4, 1, "", "create_loader"]], "masskit_ai.loggers": [[5, 1, 1, "", "MSMLFlowLogger"], [5, 1, 1, "", "MSTensorBoardLogger"], [5, 2, 1, "", "filter_pytorch_lightning_warnings"]], "masskit_ai.loggers.MSMLFlowLogger": [[5, 4, 1, "", "close"], [5, 4, 1, "", "log_figure"], [5, 4, 1, "", "log_image_file"], [5, 4, 1, "", "log_params_from_omegaconf_dict"], [5, 4, 1, "", "log_params_to_mlflow"], [5, 4, 1, "", "mlf_log_string"], [5, 4, 1, "", "mlf_set_tag"], [5, 4, 1, "", "mlf_setup_tags"]], "masskit_ai.loggers.MSTensorBoardLogger": [[5, 4, 1, "", "close"], [5, 4, 1, "", "log_figure"], [5, 4, 1, "", "log_image_file"]], "masskit_ai.metrics": [[5, 1, 1, "", "BaseLossMetric"], [5, 1, 1, "", "BaseMetric"], [5, 1, 1, "", "KLMetric"], [5, 1, 1, "", "L1Metric"], [5, 1, 1, "", "MSEMetric"], [5, 1, 1, "", "SpectrumCosineMetric"], [5, 1, 1, "", "SpectrumMSEMetric"], [5, 1, 1, "", "SpectrumNormalNLLMetric"]], "masskit_ai.metrics.BaseLossMetric": [[5, 4, 1, "", "compute"], [5, 4, 1, "", "update"]], "masskit_ai.metrics.BaseMetric": [[5, 4, 1, "", "compute"], [5, 4, 1, "", "extract_spectra"], [5, 4, 1, "", "update"]], "masskit_ai.metrics.KLMetric": [[5, 4, 1, "", "compute"], [5, 4, 1, "", "update"]], "masskit_ai.mol": [[23, 0, 0, "-", "mol_datasets"], [23, 0, 0, "-", "mol_embed"], [23, 0, 0, "-", "mol_prediction"], [24, 0, 0, "-", "small"]], "masskit_ai.mol.mol_datasets": [[23, 1, 1, "", "MolPropDataset"], [23, 2, 1, "", "graphormer_collator"], [23, 2, 1, "", "pad_1d_unsqueeze"], [23, 2, 1, "", "pad_2d_unsqueeze"], [23, 2, 1, "", "pad_3d_unsqueeze"], [23, 2, 1, "", "pad_attn_bias_unsqueeze"], [23, 2, 1, "", "pad_edge_type_unsqueeze"], [23, 2, 1, "", "pad_spatial_pos_unsqueeze"], [23, 2, 1, "", "patn_collator"]], "masskit_ai.mol.mol_datasets.MolPropDataset": [[23, 3, 1, "", "data"], [23, 4, 1, "", "get_column"], [23, 4, 1, "", "get_data_row"], [23, 4, 1, "", "get_y"], [23, 4, 1, "", "to_pandas"]], "masskit_ai.mol.mol_embed": [[23, 1, 1, "", "EmbedGraphormerMol"], [23, 1, 1, "", "EmbedPATNMol"], [23, 2, 1, "", "convert_to_single_emb"], [23, 2, 1, "", "from_mol"], [23, 2, 1, "", "preprocess_item"]], "masskit_ai.mol.mol_embed.EmbedGraphormerMol": [[23, 4, 1, "", "embed"], [23, 4, 1, "", "mol_channels"], [23, 4, 1, "", "mol_embed"]], "masskit_ai.mol.mol_embed.EmbedPATNMol": [[23, 4, 1, "", "embed"], [23, 4, 1, "", "mol_channels"], [23, 4, 1, "", "mol_path_embed"]], "masskit_ai.mol.mol_prediction": [[23, 1, 1, "", "MolPropPredictor"]], "masskit_ai.mol.mol_prediction.MolPropPredictor": [[23, 4, 1, "", "add_item"], [23, 4, 1, "", "create_dataloaders"], [23, 4, 1, "", "create_items"], [23, 4, 1, "", "finalize_items"], [23, 4, 1, "", "single_prediction"], [23, 4, 1, "", "write_items"]], "masskit_ai.mol.small": [[25, 0, 0, "-", "models"]], "masskit_ai.mol.small.models": [[25, 0, 0, "-", "gf"], [25, 0, 0, "-", "model_utils"], [25, 0, 0, "-", "mol_features"], [25, 0, 0, "-", "mol_graph"], [25, 0, 0, "-", "path_utils"], [25, 0, 0, "-", "patn"]], "masskit_ai.mol.small.models.gf": [[25, 1, 1, "", "BaseFairseqModel"], [25, 1, 1, "", "FairseqDropout"], [25, 1, 1, "", "FairseqEncoder"], [25, 1, 1, "", "FairseqEncoderModel"], [25, 1, 1, "", "GraphAttnBias"], [25, 1, 1, "", "GraphNodeFeature"], [25, 1, 1, "", "GraphormerEncoder"], [25, 1, 1, "", "GraphormerGraphEncoder"], [25, 1, 1, "", "GraphormerGraphEncoderLayer"], [25, 1, 1, "", "GraphormerModel"], [25, 1, 1, "", "Graphormer_slim"], [25, 1, 1, "", "LayerDropModuleList"], [25, 2, 1, "", "LayerNorm"], [25, 1, 1, "", "MultiheadAttention"], [25, 2, 1, "", "base_architecture"], [25, 2, 1, "", "check_type"], [25, 2, 1, "", "gelu"], [25, 2, 1, "", "gelu_accurate"], [25, 2, 1, "", "get_activation_fn"], [25, 2, 1, "", "graphormer_slim_architecture"], [25, 2, 1, "", "init_graphormer_params"], [25, 2, 1, "", "init_params"], [25, 2, 1, "", "quant_noise"], [25, 2, 1, "", "relu_squared"], [25, 2, 1, "", "safe_hasattr"], [25, 2, 1, "", "softmax"]], "masskit_ai.mol.small.models.gf.BaseFairseqModel": [[25, 4, 1, "", "build_model"], [25, 4, 1, "", "extract_features"], [25, 4, 1, "", "get_normalized_probs"], [25, 4, 1, "", "get_normalized_probs_scriptable"], [25, 4, 1, "", "get_targets"], [25, 4, 1, "", "hub_models"], [25, 4, 1, "", "make_generation_fast_"], [25, 4, 1, "", "max_positions"], [25, 4, 1, "", "prepare_for_inference_"], [25, 4, 1, "", "prepare_for_onnx_export_"], [25, 4, 1, "", "set_num_updates"]], "masskit_ai.mol.small.models.gf.FairseqDropout": [[25, 4, 1, "", "forward"], [25, 4, 1, "", "make_generation_fast_"]], "masskit_ai.mol.small.models.gf.FairseqEncoder": [[25, 4, 1, "", "forward"], [25, 4, 1, "", "forward_non_torchscript"], [25, 4, 1, "", "forward_torchscript"], [25, 4, 1, "", "max_positions"], [25, 4, 1, "", "reorder_encoder_out"], [25, 4, 1, "", "set_num_updates"], [25, 4, 1, "", "upgrade_state_dict_named"]], "masskit_ai.mol.small.models.gf.FairseqEncoderModel": [[25, 4, 1, "", "forward"], [25, 4, 1, "", "get_normalized_probs"], [25, 4, 1, "", "max_positions"]], "masskit_ai.mol.small.models.gf.GraphAttnBias": [[25, 4, 1, "", "forward"]], "masskit_ai.mol.small.models.gf.GraphNodeFeature": [[25, 4, 1, "", "forward"]], "masskit_ai.mol.small.models.gf.GraphormerEncoder": [[25, 4, 1, "", "forward"], [25, 4, 1, "", "max_nodes"], [25, 4, 1, "", "reset_output_layer_parameters"], [25, 4, 1, "", "upgrade_state_dict_named"]], "masskit_ai.mol.small.models.gf.GraphormerGraphEncoder": [[25, 4, 1, "", "build_graphormer_graph_encoder_layer"], [25, 4, 1, "", "forward"]], "masskit_ai.mol.small.models.gf.GraphormerGraphEncoderLayer": [[25, 4, 1, "", "build_fc1"], [25, 4, 1, "", "build_fc2"], [25, 4, 1, "", "build_self_attention"], [25, 4, 1, "", "forward"]], "masskit_ai.mol.small.models.gf.GraphormerModel": [[25, 4, 1, "", "build_model"], [25, 4, 1, "", "forward"], [25, 4, 1, "", "max_nodes"]], "masskit_ai.mol.small.models.gf.Graphormer_slim": [[25, 4, 1, "", "forward"], [25, 4, 1, "", "total_params"]], "masskit_ai.mol.small.models.gf.MultiheadAttention": [[25, 4, 1, "", "apply_sparse_mask"], [25, 4, 1, "", "forward"], [25, 4, 1, "", "prepare_for_onnx_export_"], [25, 4, 1, "", "reset_parameters"], [25, 4, 1, "", "upgrade_state_dict_named"]], "masskit_ai.mol.small.models.model_utils": [[25, 2, 1, "", "compute_max_atoms"], [25, 2, 1, "", "convert_to_2D"], [25, 2, 1, "", "convert_to_3D"]], "masskit_ai.mol.small.models.mol_features": [[25, 2, 1, "", "bt_index_to_float"], [25, 2, 1, "", "get_atom_features"], [25, 2, 1, "", "get_bond_features"], [25, 2, 1, "", "get_bt_feature"], [25, 2, 1, "", "get_bt_index"], [25, 2, 1, "", "get_path_bond_feature"], [25, 2, 1, "", "onek_unk_encoding"]], "masskit_ai.mol.small.models.mol_graph": [[25, 1, 1, "", "Atom"], [25, 1, 1, "", "Bond"], [25, 1, 1, "", "MolGraph"], [25, 1, 1, "", "Molecule"]], "masskit_ai.mol.small.models.mol_graph.Atom": [[25, 4, 1, "", "add_bond"]], "masskit_ai.mol.small.models.mol_graph.MolGraph": [[25, 4, 1, "", "get_atom_inputs"], [25, 4, 1, "", "get_graph_inputs"], [25, 4, 1, "", "get_n_atoms"]], "masskit_ai.mol.small.models.mol_graph.Molecule": [[25, 4, 1, "", "get_bond"]], "masskit_ai.mol.small.models.path_utils": [[25, 2, 1, "", "get_num_path_features"], [25, 2, 1, "", "get_path_atoms"], [25, 2, 1, "", "get_path_features"], [25, 2, 1, "", "get_path_input"], [25, 2, 1, "", "get_ring_features"], [25, 2, 1, "", "merge_path_inputs"], [25, 2, 1, "", "ordered_pair"]], "masskit_ai.mol.small.models.patn": [[25, 1, 1, "", "MolTransformer"], [25, 1, 1, "", "PropPredictor"]], "masskit_ai.mol.small.models.patn.MolTransformer": [[25, 4, 1, "", "avg_attn"], [25, 4, 1, "", "compute_attn_probs"], [25, 4, 1, "", "forward"], [25, 4, 1, "", "get_attn_input"]], "masskit_ai.mol.small.models.patn.PropPredictor": [[25, 4, 1, "", "aggregate_atom_h"], [25, 4, 1, "", "forward"]], "masskit_ai.prediction": [[5, 1, 1, "", "Predictor"]], "masskit_ai.prediction.Predictor": [[5, 4, 1, "", "add_item"], [5, 4, 1, "", "apply_dropout"], [5, 4, 1, "", "create_dataloaders"], [5, 4, 1, "", "create_items"], [5, 4, 1, "", "finalize_items"], [5, 4, 1, "", "load_model"], [5, 4, 1, "", "prep_model_for_prediction"], [5, 4, 1, "", "single_prediction"], [5, 4, 1, "", "write_items"]], "masskit_ai.samplers": [[5, 1, 1, "", "BaseSampler"], [5, 1, 1, "", "DatasetFromSampler"], [5, 1, 1, "", "DistributedSamplerWrapper"]], "masskit_ai.samplers.BaseSampler": [[5, 4, 1, "", "probability"]], "masskit_ai.spectrum": [[27, 0, 0, "-", "peptide"], [29, 0, 0, "-", "small_mol"], [26, 0, 0, "-", "spectrum_base_objects"], [26, 0, 0, "-", "spectrum_datasets"], [26, 0, 0, "-", "spectrum_embed"], [26, 0, 0, "-", "spectrum_lightning"], [26, 0, 0, "-", "spectrum_losses"], [26, 0, 0, "-", "spectrum_prediction"]], "masskit_ai.spectrum.peptide": [[28, 0, 0, "-", "models"], [27, 0, 0, "-", "peptide_callbacks"], [27, 0, 0, "-", "peptide_constants"], [27, 0, 0, "-", "peptide_embed"], [27, 0, 0, "-", "peptide_prediction"], [27, 0, 0, "-", "peptide_samplers"]], "masskit_ai.spectrum.peptide.models": [[28, 0, 0, "-", "AIomicsRNN"], [28, 0, 0, "-", "aiomic"], [28, 0, 0, "-", "dense"], [28, 0, 0, "-", "flipyflopy"]], "masskit_ai.spectrum.peptide.models.AIomicsRNN": [[28, 1, 1, "", "AIomicsRNN"]], "masskit_ai.spectrum.peptide.models.AIomicsRNN.AIomicsRNN": [[28, 4, 1, "", "forward"], [28, 4, 1, "", "total_params"]], "masskit_ai.spectrum.peptide.models.aiomic": [[28, 1, 1, "", "AIomicsModel"], [28, 1, 1, "", "AIomicsModelUnc"], [28, 1, 1, "", "CompoundConv"], [28, 1, 1, "", "PFCompoundConv"], [28, 1, 1, "", "PredFull"], [28, 1, 1, "", "ResBlock"], [28, 1, 1, "", "SqEx"], [28, 1, 1, "", "pfblock"], [28, 2, 1, "", "test_modifier"]], "masskit_ai.spectrum.peptide.models.aiomic.AIomicsModel": [[28, 4, 1, "", "forward"], [28, 4, 1, "", "total_params"]], "masskit_ai.spectrum.peptide.models.aiomic.AIomicsModelUnc": [[28, 4, 1, "", "forward"], [28, 4, 1, "", "total_params"]], "masskit_ai.spectrum.peptide.models.aiomic.CompoundConv": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.aiomic.PFCompoundConv": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.aiomic.PredFull": [[28, 4, 1, "", "forward"], [28, 4, 1, "", "total_params"]], "masskit_ai.spectrum.peptide.models.aiomic.ResBlock": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.aiomic.SqEx": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.aiomic.pfblock": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.dense": [[28, 1, 1, "", "DenseSpectrumNet"], [28, 1, 1, "", "XorModel"]], "masskit_ai.spectrum.peptide.models.dense.DenseSpectrumNet": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.dense.XorModel": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.flipyflopy": [[28, 1, 1, "", "FFN"], [28, 1, 1, "", "FlipyFlopy"], [28, 2, 1, "", "Init"], [28, 1, 1, "", "TalkingHeads"], [28, 1, 1, "", "TransBlock"]], "masskit_ai.spectrum.peptide.models.flipyflopy.FFN": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.flipyflopy.FlipyFlopy": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.flipyflopy.TalkingHeads": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.models.flipyflopy.TransBlock": [[28, 4, 1, "", "forward"]], "masskit_ai.spectrum.peptide.peptide_callbacks": [[27, 1, 1, "", "PeptideCB"]], "masskit_ai.spectrum.peptide.peptide_callbacks.PeptideCB": [[27, 4, 1, "", "on_validation_batch_end"]], "masskit_ai.spectrum.peptide.peptide_embed": [[27, 1, 1, "", "EmbedPeptide"]], "masskit_ai.spectrum.peptide.peptide_embed.EmbedPeptide": [[27, 4, 1, "", "get_mod_list"], [27, 4, 1, "", "mods_channels"], [27, 4, 1, "", "mods_embed"], [27, 4, 1, "", "mods_singleton_channels"], [27, 4, 1, "", "mods_singleton_embed"], [27, 4, 1, "", "peptide_channels"], [27, 4, 1, "", "peptide_embed"], [27, 4, 1, "", "peptide_singleton_channels"], [27, 4, 1, "", "peptide_singleton_embed"]], "masskit_ai.spectrum.peptide.peptide_prediction": [[27, 2, 1, "", "upres_peptide_spectra"], [27, 2, 1, "", "upres_peptide_spectrum"]], "masskit_ai.spectrum.peptide.peptide_samplers": [[27, 1, 1, "", "LengthSampler"], [27, 1, 1, "", "LengthSampler2"], [27, 1, 1, "", "LengthSampler3"]], "masskit_ai.spectrum.peptide.peptide_samplers.LengthSampler": [[27, 4, 1, "", "probability"]], "masskit_ai.spectrum.peptide.peptide_samplers.LengthSampler2": [[27, 4, 1, "", "probability"]], "masskit_ai.spectrum.peptide.peptide_samplers.LengthSampler3": [[27, 4, 1, "", "probability"]], "masskit_ai.spectrum.small_mol": [[30, 0, 0, "-", "models"], [29, 0, 0, "-", "small_mol_datasets"], [29, 0, 0, "-", "small_mol_lightning"], [29, 0, 0, "-", "small_mol_losses"]], "masskit_ai.spectrum.small_mol.models": [[30, 0, 0, "-", "small_mol_models"]], "masskit_ai.spectrum.small_mol.models.small_mol_models": [[30, 1, 1, "", "AIMSNet"], [30, 1, 1, "", "BasicBlock"], [30, 1, 1, "", "Conv1dSamePadding"], [30, 1, 1, "", "ConvBlock"], [30, 1, 1, "", "LocalLinear"], [30, 1, 1, "", "MyConv1dPadSame"], [30, 1, 1, "", "MyMaxPool1dPadSame"], [30, 1, 1, "", "ResNetBaseline"], [30, 1, 1, "", "ResNetBaseline_new"], [30, 1, 1, "", "ResNetBlock"], [30, 1, 1, "", "SimpleNet"], [30, 2, 1, "", "conv1d_same_padding"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.AIMSNet": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.BasicBlock": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.Conv1dSamePadding": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.ConvBlock": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.LocalLinear": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.MyConv1dPadSame": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.MyMaxPool1dPadSame": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.ResNetBaseline": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.ResNetBaseline_new": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.ResNetBlock": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.models.small_mol_models.SimpleNet": [[30, 4, 1, "", "forward"]], "masskit_ai.spectrum.small_mol.small_mol_datasets": [[29, 1, 1, "", "TandemArrowSearchDataset"]], "masskit_ai.spectrum.small_mol.small_mol_datasets.TandemArrowSearchDataset": [[29, 3, 1, "", "data"], [29, 3, 1, "", "data_search"], [29, 4, 1, "", "get_data_row"], [29, 4, 1, "", "get_x"], [29, 4, 1, "", "get_y"], [29, 3, 1, "", "index"], [29, 3, 1, "", "row2id"], [29, 3, 1, "", "row2id_search"], [29, 4, 1, "", "spectrum2array"]], "masskit_ai.spectrum.small_mol.small_mol_lightning": [[29, 1, 1, "", "SearchLightningModule"], [29, 1, 1, "", "SmallMolSearchDataModule"]], "masskit_ai.spectrum.small_mol.small_mol_lightning.SearchLightningModule": [[29, 4, 1, "", "pairwise_search_model"], [29, 4, 1, "", "training_step"], [29, 4, 1, "", "validation_test_step"]], "masskit_ai.spectrum.small_mol.small_mol_lightning.SmallMolSearchDataModule": [[29, 4, 1, "", "get_subsets"]], "masskit_ai.spectrum.small_mol.small_mol_losses": [[29, 1, 1, "", "SearchLoss"]], "masskit_ai.spectrum.small_mol.small_mol_losses.SearchLoss": [[29, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_base_objects": [[26, 1, 1, "", "SpectrumModel"], [26, 1, 1, "", "SpectrumModule"]], "masskit_ai.spectrum.spectrum_base_objects.SpectrumModel": [[26, 3, 1, "", "channels"]], "masskit_ai.spectrum.spectrum_base_objects.SpectrumModule": [[26, 3, 1, "", "bins"]], "masskit_ai.spectrum.spectrum_datasets": [[26, 1, 1, "", "SpectrumDataset"], [26, 1, 1, "", "TandemArrowDataset"], [26, 1, 1, "", "TandemDataframeDataset"]], "masskit_ai.spectrum.spectrum_datasets.SpectrumDataset": [[26, 4, 1, "", "get_y"]], "masskit_ai.spectrum.spectrum_datasets.TandemArrowDataset": [[26, 3, 1, "", "data"], [26, 4, 1, "", "get_column"], [26, 4, 1, "", "get_data_row"], [26, 4, 1, "", "to_pandas"]], "masskit_ai.spectrum.spectrum_embed": [[26, 1, 1, "", "Embed1D"]], "masskit_ai.spectrum.spectrum_embed.Embed1D": [[26, 4, 1, "", "charge_channels"], [26, 4, 1, "", "charge_embed"], [26, 4, 1, "", "charge_singleton_channels"], [26, 4, 1, "", "charge_singleton_embed"], [26, 4, 1, "", "ev_channels"], [26, 4, 1, "", "ev_embed"], [26, 4, 1, "", "ev_singleton_channels"], [26, 4, 1, "", "ev_singleton_embed"], [26, 4, 1, "", "nce_channels"], [26, 4, 1, "", "nce_embed"], [26, 4, 1, "", "nce_singleton_channels"], [26, 4, 1, "", "nce_singleton_embed"]], "masskit_ai.spectrum.spectrum_lightning": [[26, 1, 1, "", "BaseSpectrumLightningModule"], [26, 1, 1, "", "SpectrumLightningModule"]], "masskit_ai.spectrum.spectrum_lightning.BaseSpectrumLightningModule": [[26, 4, 1, "", "calc_loss"], [26, 4, 1, "", "configure_optimizers"], [26, 4, 1, "", "forward"], [26, 4, 1, "", "on_test_epoch_end"], [26, 4, 1, "", "on_train_epoch_end"], [26, 4, 1, "", "on_validation_epoch_end"], [26, 4, 1, "", "test_step"], [26, 4, 1, "", "training_step"], [26, 4, 1, "", "training_step_end"], [26, 4, 1, "", "validation_step"], [26, 4, 1, "", "validation_test_epoch_end"], [26, 4, 1, "", "validation_test_step"]], "masskit_ai.spectrum.spectrum_lightning.SpectrumLightningModule": [[26, 4, 1, "", "training_step"], [26, 4, 1, "", "validation_test_step"]], "masskit_ai.spectrum.spectrum_losses": [[26, 1, 1, "", "BaseSpectrumLoss"], [26, 1, 1, "", "SpectrumCosineKLLoss"], [26, 1, 1, "", "SpectrumCosineLoss"], [26, 1, 1, "", "SpectrumLogCosineKLLoss"], [26, 1, 1, "", "SpectrumMSEKLLoss"], [26, 1, 1, "", "SpectrumMSELoss"], [26, 1, 1, "", "SpectrumNormalNLL"]], "masskit_ai.spectrum.spectrum_losses.BaseSpectrumLoss": [[26, 4, 1, "", "extract_spectra"], [26, 4, 1, "", "extract_variance"], [26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumCosineKLLoss": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumCosineLoss": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumLogCosineKLLoss": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumMSEKLLoss": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumMSELoss": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_losses.SpectrumNormalNLL": [[26, 4, 1, "", "forward"]], "masskit_ai.spectrum.spectrum_prediction": [[26, 1, 1, "", "PeptideSpectrumPredictor"], [26, 1, 1, "", "SinglePeptideSpectrumPredictor"], [26, 2, 1, "", "finalize_spectrum"]], "masskit_ai.spectrum.spectrum_prediction.PeptideSpectrumPredictor": [[26, 4, 1, "", "add_item"], [26, 4, 1, "", "create_dataloaders"], [26, 4, 1, "", "create_items"], [26, 4, 1, "", "create_mz_tolerance"], [26, 4, 1, "", "finalize_items"], [26, 4, 1, "", "make_spectrum"], [26, 4, 1, "", "single_prediction"], [26, 4, 1, "", "write_items"]], "masskit_ai.spectrum.spectrum_prediction.SinglePeptideSpectrumPredictor": [[26, 4, 1, "", "add_item"], [26, 4, 1, "", "make_spectrum"]], "masskit_ai.test_fixtures": [[31, 2, 1, "", "SRM1950_lumos_short_parquet_ai"], [31, 2, 1, "", "config_predict_airi_csv"], [31, 2, 1, "", "config_predict_airi_smiles"], [31, 2, 1, "", "config_predict_peptide"], [31, 2, 1, "", "data_dir"], [31, 2, 1, "", "human_uniprot_trunc_fasta"], [31, 2, 1, "", "human_uniprot_trunc_parquet"], [31, 2, 1, "", "predicted_airi_csv"], [31, 2, 1, "", "predicted_airi_smiles"], [31, 2, 1, "", "predicted_human_uniprot_trunc_parquet"], [31, 2, 1, "", "test_new_sdf_parquet"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:function", "3": "py:property", "4": "py:method", "5": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "function", "Python function"], "3": ["py", "property", "Python property"], "4": ["py", "method", "Python method"], "5": ["py", "attribute", "Python attribute"]}, "titleterms": {"masskit_ai": [0, 1, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32], "us": [0, 4], "architectur": 0, "setup": [0, 22], "train": [0, 10], "peptid": [0, 2, 4, 10, 11, 12, 13, 27, 28], "predict": [0, 2, 4, 5, 10], "model": [0, 19, 25, 28, 30], "run": 0, "local": 0, "linux": 0, "machin": 0, "output": 0, "creat": 0, "configur": 0, "checkpoint": 0, "transfer": 0, "learn": 0, "bayesian": 0, "network": 0, "loss": 0, "new": 0, "input": [0, 15], "softwar": 0, "custom": 0, "ad": 0, "field": 0, "metric": [0, 5], "sampler": [0, 5], "miscellan": 0, "set": [0, 4], "welcom": 1, "s": 1, "document": [1, 3], "content": [1, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], "indic": 1, "tabl": 1, "read": 2, "analyz": 2, "spectra": 2, "join": 2, "experiment": 2, "theoret": 2, "match": 2, "peak": 2, "examin": 2, "result": 2, "phosphopeptid": 2, "do": 2, "end": 2, "k": 2, "r": 2, "queri": 2, "ion": 2, "annot": 2, "mean": 2, "intens": 2, "b": 2, "charg": 2, "1": 2, "z": 2, "score": 2, "one": 2, "carbon": 2, "13": 2, "immonium": 2, "note": [2, 3], "type": 2, "kept": 2, "neutral_loss": 2, "column": [2, 4], "intern": 2, "parent": 2, "plot": 2, "two": 2, "error": 2, "bar": 2, "mirror": 2, "relationship": 2, "between": 2, "cosin": 2, "variou": 2, "spectrum": [2, 26, 27, 28, 29, 30], "properti": 2, "comput": 2, "which": 2, "automat": 2, "chang": 2, "mass": 2, "toler": 2, "evenli": 2, "space": 2, "bin": 2, "instead": 2, "ppm": 2, "access": 2, "mz": 2, "std": 2, "deviat": 2, "an": [2, 4], "exampl": [2, 4], "save": 2, "msp": 2, "all": 2, "The": 2, "row": 2, "0": 2, "build": 3, "from": [3, 4], "python": 3, "notebook": 3, "sourc": 3, "file": [3, 4], "recip": 4, "spectral": 4, "librari": 4, "gener": 4, "ri": 4, "valu": 4, "airi": 4, "command": 4, "calcul": 4, "csv": 4, "my_csv": 4, "smile": 4, "molecul": 4, "sdf": 4, "molfil": 4, "my_sdf": 4, "packag": [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], "subpackag": [5, 6, 7, 9, 10, 11, 12, 14, 17, 23, 24, 26, 27, 29], "submodul": [5, 7, 10, 23, 25, 26, 27, 28, 29, 30], "base_dataset": 5, "modul": [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], "base_loss": 5, "base_object": 5, "callback": 5, "emb": 5, "lightn": 5, "logger": 5, "app": [6, 7, 8, 9, 10, 11, 12, 13], "aim": [7, 8], "build_index": 7, "compare_search_result": 7, "create_feature_vector": 7, "conf": [8, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22], "ml": [9, 10, 11, 12, 13, 17, 18, 19], "create_peptide_librari": 10, "experimental_divid": 10, "experimental_join": 10, "predict_hitlist": 10, "hydra": [12, 13], "help": 13, "log": 16, "embed": 18, "ms": 20, "path": 21, "mol": [23, 24, 25], "mol_dataset": 23, "mol_emb": 23, "mol_predict": 23, "small": [24, 25], "algo": 25, "gf": 25, "model_util": 25, "mol_featur": 25, "mol_graph": 25, "path_util": 25, "patn": 25, "spectrum_base_object": 26, "spectrum_dataset": 26, "spectrum_emb": 26, "spectrum_lightn": 26, "spectrum_loss": 26, "spectrum_predict": 26, "peptide_callback": 27, "peptide_const": 27, "peptide_emb": 27, "peptide_predict": 27, "peptide_sampl": 27, "aiomicsrnn": 28, "aiomic": 28, "dens": 28, "flipyflopi": 28, "small_mol": [29, 30], "small_mol_dataset": 29, "small_mol_lightn": 29, "small_mol_loss": 29, "small_mol_model": 30, "test_fixtur": 31}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 3, "sphinx": 56}})